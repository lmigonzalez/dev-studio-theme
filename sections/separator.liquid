{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
    {% if section.settings.custom_background_color != blank %}
      background-color: {{ section.settings.custom_background_color }};
    {% endif %}
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .separator-{{ section.id }} {
    width: {{ section.settings.separator_width }}%;
    margin: 0 auto;
    text-align: {{ section.settings.separator_alignment }};
    {% if section.settings.separator_alignment == 'left' %}
      margin-left: 0;
      margin-right: auto;
    {% elsif section.settings.separator_alignment == 'right' %}
      margin-left: auto;
      margin-right: 0;
    {% endif %}
  }

  .separator-{{ section.id }} hr {
    border: none;
    margin: 0;
    {% if section.settings.separator_type == 'gradient' %}
      height: {{ section.settings.separator_thickness }}px;
      background: linear-gradient(
        to right,
        {{ section.settings.gradient_color_1 }},
        {{ section.settings.gradient_color_2 }}
      );
      {% if section.settings.gradient_fade %}
        background: linear-gradient(
          to right,
          transparent,
          {{ section.settings.gradient_color_1 }},
          {{ section.settings.gradient_color_2 }},
          {{ section.settings.gradient_color_1 }},
          transparent
        );
      {% endif %}
    {% elsif section.settings.separator_type == 'shadow' %}
      height: {{ section.settings.separator_thickness }}px;
      background: {{ section.settings.separator_color }};
      box-shadow: 0 {{ section.settings.shadow_blur }}px {{ section.settings.shadow_spread }}px {{ section.settings.shadow_color }};
    {% elsif section.settings.separator_type == 'double' %}
      border-top: {{ section.settings.separator_thickness }}px {{ section.settings.separator_style }} {{ section.settings.separator_color }};
      border-bottom: {{ section.settings.separator_thickness }}px {{ section.settings.separator_style }} {{ section.settings.separator_color }};
      height: {{ section.settings.double_line_spacing }}px;
    {% else %}
      border-top: {{ section.settings.separator_thickness }}px {{ section.settings.separator_style }} {{ section.settings.separator_color }};
    {% endif %}
    {% if section.settings.border_radius > 0 %}
      border-radius: {{ section.settings.border_radius }}px;
    {% endif %}
  }

  {% if section.settings.separator_icon != blank %}
    .separator-{{ section.id }}-icon {
      display: inline-block;
      position: relative;
      padding: 0 {{ section.settings.icon_spacing }}px;
      background: {% if section.settings.custom_background_color != blank %}{{ section.settings.custom_background_color }}{% else %}var(--color-background){% endif %};
      color: {{ section.settings.icon_color }};
      font-size: {{ section.settings.icon_size }}px;
      line-height: 1;
    }

    .separator-{{ section.id }}-wrapper {
      display: flex;
      align-items: center;
      width: 100%;
    }

    .separator-{{ section.id }}-wrapper hr {
      flex: 1;
    }
  {% endif %}

  {% if section.settings.enable_animation %}
    @keyframes separatorFadeIn {
      from {
        opacity: 0;
        transform: scaleX(0);
      }
      to {
        opacity: 1;
        transform: scaleX(1);
      }
    }

    .separator-{{ section.id }} hr {
      animation: separatorFadeIn {{ section.settings.animation_duration }}s ease-out;
      transform-origin: {{ section.settings.separator_alignment }};
    }
  {% endif %}
{%- endstyle -%}

<div class="{% if section.settings.custom_background_color == blank %}color-{{ section.settings.color_scheme }} gradient{% endif %}">
  <div class="section-{{ section.id }}-padding">
    {% if section.settings.show_separator %}
      <div class="separator-{{ section.id }}{% unless section.settings.full_width %} page-width{% endunless %}">
        {% if section.settings.separator_icon != blank %}
          <div class="separator-{{ section.id }}-wrapper">
            <hr>
            <span class="separator-{{ section.id }}-icon">{{ section.settings.separator_icon }}</span>
            <hr>
          </div>
        {% else %}
          <hr>
        {% endif %}
      </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Separator",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "checkbox",
      "id": "show_separator",
      "label": "Show divider line",
      "default": true,
      "info": "Uncheck to create spacing without a visible line"
    },
    {
      "type": "header",
      "content": "Divider Type"
    },
    {
      "type": "select",
      "id": "separator_type",
      "options": [
        {
          "value": "standard",
          "label": "Standard"
        },
        {
          "value": "gradient",
          "label": "Gradient"
        },
        {
          "value": "double",
          "label": "Double Line"
        },
        {
          "value": "shadow",
          "label": "With Shadow"
        }
      ],
      "default": "standard",
      "label": "Divider type"
    },
    {
      "type": "select",
      "id": "separator_style",
      "options": [
        {
          "value": "solid",
          "label": "Solid"
        },
        {
          "value": "dashed",
          "label": "Dashed"
        },
        {
          "value": "dotted",
          "label": "Dotted"
        },
        {
          "value": "double",
          "label": "Double"
        },
        {
          "value": "groove",
          "label": "Groove"
        },
        {
          "value": "ridge",
          "label": "Ridge"
        },
        {
          "value": "inset",
          "label": "Inset"
        },
        {
          "value": "outset",
          "label": "Outset"
        }
      ],
      "default": "solid",
      "label": "Line style",
      "info": "Applies to Standard and Double Line types"
    },
    {
      "type": "header",
      "content": "Divider Colors"
    },
    {
      "type": "color",
      "id": "separator_color",
      "label": "Divider color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "gradient_color_1",
      "label": "Gradient color 1",
      "default": "#000000",
      "info": "Used when Divider type is set to Gradient"
    },
    {
      "type": "color",
      "id": "gradient_color_2",
      "label": "Gradient color 2",
      "default": "#666666",
      "info": "Used when Divider type is set to Gradient"
    },
    {
      "type": "checkbox",
      "id": "gradient_fade",
      "label": "Fade gradient to transparent edges",
      "default": false,
      "info": "Creates a fade effect on both ends"
    },
    {
      "type": "header",
      "content": "Shadow Settings"
    },
    {
      "type": "color",
      "id": "shadow_color",
      "label": "Shadow color",
      "default": "rgba(0,0,0,0.2)",
      "info": "Used when Divider type is set to With Shadow"
    },
    {
      "type": "range",
      "id": "shadow_blur",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Shadow blur",
      "default": 10
    },
    {
      "type": "range",
      "id": "shadow_spread",
      "min": 0,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Shadow spread",
      "default": 0
    },
    {
      "type": "header",
      "content": "Divider Dimensions"
    },
    {
      "type": "range",
      "id": "separator_width",
      "min": 10,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Divider width",
      "default": 100
    },
    {
      "type": "range",
      "id": "separator_thickness",
      "min": 1,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Divider thickness",
      "default": 1
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 50,
      "step": 1,
      "unit": "px",
      "label": "Border radius",
      "default": 0,
      "info": "Rounds the edges of the divider"
    },
    {
      "type": "range",
      "id": "double_line_spacing",
      "min": 2,
      "max": 30,
      "step": 1,
      "unit": "px",
      "label": "Space between double lines",
      "default": 8,
      "info": "Used when Divider type is set to Double Line"
    },
    {
      "type": "header",
      "content": "Alignment"
    },
    {
      "type": "select",
      "id": "separator_alignment",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "center",
      "label": "Divider alignment"
    },
    {
      "type": "checkbox",
      "id": "full_width",
      "default": true,
      "label": "Full width container"
    },
    {
      "type": "header",
      "content": "Icon/Decorative Element"
    },
    {
      "type": "text",
      "id": "separator_icon",
      "label": "Icon or text",
      "placeholder": "✦ or ◆ or • or Custom text",
      "info": "Add an icon or text in the center of the divider. Try: ✦ ◆ ❖ ✱ ⬥ • ◉ ★ or any emoji"
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "icon_size",
      "min": 8,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Icon size",
      "default": 20
    },
    {
      "type": "range",
      "id": "icon_spacing",
      "min": 5,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Space around icon",
      "default": 20
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "color",
      "id": "custom_background_color",
      "label": "Custom background color",
      "info": "Leave empty to use color scheme"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1",
      "info": "Only used if custom background color is empty"
    },
    {
      "type": "header",
      "content": "Animation"
    },
    {
      "type": "checkbox",
      "id": "enable_animation",
      "label": "Enable animation",
      "default": false,
      "info": "Animates divider on page load"
    },
    {
      "type": "range",
      "id": "animation_duration",
      "min": 0.3,
      "max": 3.0,
      "step": 0.1,
      "unit": "s",
      "label": "Animation duration",
      "default": 0.8
    },
    {
      "type": "header",
      "content": "Spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 5,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "Top spacing",
      "default": 40
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 5,
      "max": 150,
      "step": 5,
      "unit": "px",
      "label": "Bottom spacing",
      "default": 40
    }
  ],
  "presets": [
    {
      "name": "Separator"
    }
  ]
}
{% endschema %}

